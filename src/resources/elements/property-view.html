<template bindable="property">
  <require from="./property-view.css"></require>
  <require from="../../backend/expand-value"></require>

  <span css="opacity: ${property.canExpand? 1 : 0}" class="arrow" click.trigger="toggleDebugValueExpansion(property)">
    <span if.bind="property.isExpanded" class="down">▼</span>
    <span if.bind="!property.isExpanded" class="right">▶</span>
  </span>
  <span class="property-name">${property.name}</span><span class="token-colon">:</span>&nbsp;
  
  <span if.bind="property.type === 'string'" class="property-value ${property.type}">"${property.value}"</span>

  <span if.bind="property.type !== 'string'" class="property-value ${property.type}">${property.value}</span>

  <ul if.bind="property.isExpanded && property.expandedValue" class="properties">
    <div if.bind="!property.expandedValue.properties.length" class="no-properties">
      Object has no properties.
    </div>
    <li repeat.for="p of property.expandedValue.properties">
      <property-view property.bind="p"></property-view>
    </li>
  </ul>
</template>
